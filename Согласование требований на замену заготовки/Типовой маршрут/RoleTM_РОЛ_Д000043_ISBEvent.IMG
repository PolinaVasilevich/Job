ICAvL8fg7+7r7ejy/CDv4PDg7OXy8CDR5erw5fLg8PwNCiAgV29ya2Zsb3dQYXJhbXMgPSBPYmplY3QuV29ya2Zsb3dQYXJhbXMNCiAgLy9CR04gQ0hHIEJhYnVzaGtpbmFfQVYgMjcuMDcuMjAxOCDv8O7i5fDo8vwg7eDr6Pfo5SDv4PDg7OXy8OAgIsjt6Pbo4PLu8CIgW+/u5OTl8Obq4CDy5fHy7uLu6SDq7u3i5fDy4Pbo6CDt4CA1LjUuMV0NCiAgSW5pdGlhdG9yUGFyYW0gPSBXb3JrZmxvd1BhcmFtcy5WYWx1ZUJ5TmFtZSgnyO3o9ujg8u7wJykNCiAgSW5pdGlhdG9yVXNlciA9ICcnDQogIGlmIEFzc2lnbmVkKEluaXRpYXRvclBhcmFtKQ0KICAgIC8vSW5pdGlhdG9yVXNlciA9IFdvcmtmbG93UGFyYW1zLlZhbHVlQnlOYW1lKCfI7ej26ODy7vAnKS5WYWx1ZQ0KICAgIEluaXRpYXRvclVzZXIgPSBJbml0aWF0b3JQYXJhbS5WYWx1ZQ0KICAvL0VORCBDSEcgQmFidXNoa2luYV9BViAyNy4wNy4yMDE4DQogIGVuZGlmDQogIGlmIG5vdCBBc3NpZ25lZChJbml0aWF0b3JVc2VyKQ0KICAgIEluaXRpYXRvclVzZXJJRCA9IE9iamVjdC5SZXF1aXNpdGVzKCJBdXRob3IiKS5WYWx1ZUlEDQogIGVsc2UNCiAgICBJbml0aWF0b3JVc2VySUQgPSBJbml0aWF0b3JVc2VyLklEICAgICANCiAgZW5kaWYNCiAgUXVlcnkgPSBGb3JtYXQoInNlbGVjdCB0b3AgMSBhLkFuYWxpdA0KICAgICAgICAgICAgICAgICAgICBmcm9tIE1CQW5hbGl0IGENCiAgICAgICAgICAgICAgICAgICAgd2hlcmUgYS5WaWQgPSAlcyANCiAgICAgICAgICAgICAgICAgICAgICBhbmQgYS5Tb3N0ID0gJ8QnDQogICAgICAgICAgICAgICAgICAgICAgYW5kIGEuWFJlY1N0YXQgPSAnKycgDQogICAgICAgICAgICAgICAgICAgICAgYW5kIGEuUG9sem92YXRlbCA9ICVzIjsgQXJyYXlPZijIxNLo79Hv8Cgi0MDBIik7IEluaXRpYXRvclVzZXJJRCkpDQogIFdvcmtlcklEID0gU1FMKFF1ZXJ5KQ0KICBpZiBBc3NpZ25lZChXb3JrZXJJRCkNCiAgICAvLyDN4Ony6CDw5ePo8fLw4PLu8OAg4iDx7/Dg4u737ejq5SDQ5ePo8fLw6PDz/vno5SDx5erw5fLg8OggICANCiAgICBRdWVyeSA9IEZvcm1hdCgic2VsZWN0IHRvcCAxIA0KICAgICAgICAgICAgICAgICAgICAgIGEuRklPMg0KICAgICAgICAgICAgICAgICAgICBmcm9tIA0KICAgICAgICAgICAgICAgICAgICAgIE1CQW5hbGl0IGENCiAgICAgICAgICAgICAgICAgICAgd2hlcmUgDQogICAgICAgICAgICAgICAgICAgICAgYS5WaWQgPSAlcyANCiAgICAgICAgICAgICAgICAgICAgICBhbmQgYS5Tb3N0ID0gJ8QnDQogICAgICAgICAgICAgICAgICAgICAgYW5kIGEuWFJlY1N0YXQgPSAnKycgDQogICAgICAgICAgICAgICAgICAgICAgYW5kIGEuU2VjclJvbGUgPSAn0CcgDQogICAgICAgICAgICAgICAgICAgICAgYW5kIGEuRklPID0gJXMiOyBBcnJheU9mKMjE0ujv0e/wKCJNWktUU2VjcmV0YXJ5Iik7IFdvcmtlcklEKSkNCiAgICBTZWNyZXRhcnlJRCA9IFNRTChRdWVyeSkNCiAgICBpZiBBc3NpZ25lZChTZWNyZXRhcnlJRCkNCiAgICAgINLMxO7h4OLo8vzI8e/u6+3o8uXr/9Du6+goUmVzdWx0OyDR5fLl4u7lyOz/z+7K7uTz0ODh7vLt6OrgKFJlZmVyZW5jZUNvZGVCeUlEKFNlY3JldGFyeUlEKSkpDQogICAgZWxzZQ0KICAgICAgV29ya2VyUmVmID0gUmVmZXJlbmNlcy7QwMEuR2V0T2JqZWN0QnlJRChXb3JrZXJJRCkNCiAgICAgIERlcGFydG1lbnRDb2RlID0gV29ya2VyUmVmLlJlcXVpc2l0ZXMoIs/u5PDg5+Tl6+Xt6OUiKS5WYWx1ZQ0KICAgICAgRGVwYXJ0bWVudFJlZiA9IFJlZmVyZW5jZXMuz87ELkdldE9iamVjdEJ5Q29kZShEZXBhcnRtZW50Q29kZSkNCiAgICAgIFJlZ1BsYWNlID0gRGVwYXJ0bWVudFJlZi5SZXF1aXNpdGVzKCLM5fHy7tDl4yIpLlZhbHVlDQogICAgICBpZiBBc3NpZ25lZChSZWdQbGFjZSkgDQogICAgICAgIFJlZ1BsYWNlUmVmID0gUmVmZXJlbmNlcy7M0MMuR2V0T2JqZWN0QnlDb2RlKFJlZ1BsYWNlKQ0KICAgICAgICBTZWNyQ29kZSA9IFJlZ1BsYWNlUmVmLlJlcXVpc2l0ZXMoIkVtcGxveWVlIikuVmFsdWUNCiAgICAgICAgaWYgQXNzaWduZWQoU2VjckNvZGUpDQogICAgICAgICAgU2VjciA9INHl8uXi7uXI7P/P7sru5PPQ4OHu8u3o6uAoU2VjckNvZGUpDQogICAgICAgICAg0szE7uHg4ujy/Mjx7+7r7ejy5ev/0O7r6ChSZXN1bHQ7IFNlY3IpDQogICAgICAgIGVuZGlmDQogICAgICBlbmRpZg0KICAgIGVuZGlmICAgICAgICANCiAgZW5kaWYNCiA=